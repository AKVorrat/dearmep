<div class="dmep-card-container">
  <div class="filter" *ngIf="mepSelectionPossible$ | async">
    <mat-form-field appearance="outline" class="dmep-search-member-field">
      <mat-label>Search for another member</mat-label>
      <mat-icon matPrefix>search</mat-icon>
      <mat-icon matSuffix>expand_more</mat-icon>
      <input type="text"
        placeholder="Search for another member"
        matInput
        [matAutocomplete]="auto"
        [formControl]="searchMEPFormControl">
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="getMepName" hideSingleSelectionIndicator="true" >
        <mat-option [value]="mep" *ngFor="let mep of filteredMEPs | async">
          <div class="mep-search-result">
            <span [classList]="'flag:' + mep.country"></span>
            <span class="mep-name">{{ mep.name }}</span>
            <ng-container *ngFor="let group of mep.groups">
              <img *ngIf="group.logo" [src]="group.logo" class="dmep-group-icon">
            </ng-container>
          </div>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <dmep-country-select></dmep-country-select>
  </div>
  <dmep-mep-detail [allowChangeMEP]="mepSelectionPossible$ | async" [mep]="selectedMEP$ | async" (MEPChange)="renewSuggestion()"></dmep-mep-detail>
</div>
