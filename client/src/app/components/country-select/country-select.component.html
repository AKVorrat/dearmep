<!--
SPDX-FileCopyrightText: © 2023 Tobias Mühlberger

SPDX-License-Identifier: AGPL-3.0-or-later
-->

<mat-form-field appearance="outline" subscriptSizing="dynamic">
  <mat-label>{{ 'select-mep.country' | transloco }}</mat-label>
  <mat-select [value]="selectedCountry" (valueChange)="onSelectCountry($event)">
    @if (selectedCountry) {
      <mat-select-trigger>
        <div class="dmep-country-option">
          <span [classList]="'flag:' + selectedCountry"></span>
          <span>{{ 'countries.' + selectedCountry | transloco }}</span>
        </div>
      </mat-select-trigger>
    }
    @for (country of countries$ | async; track country) {
      <mat-option [value]="country.shortCode">
        <div class="dmep-country-option">
          <span [classList]="'flag:' + country.shortCode"></span>
          <span>{{ country.name }}</span>
        </div>
      </mat-option>
    }
  </mat-select>
</mat-form-field>
